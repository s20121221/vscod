<!DOCTYPE html>
<html lang="cn">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <link rel="icon" href="assets/new_asus_ico_256x256.png" />
    <link rel="stylesheet" type="text/css" href="test.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>asus</title>
  </head>

  <body>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"
      integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <a href="back.html" style="float: left;">
      <button type="button"  class="btn btn-danger" id="hiddenbut" style="display: none;">後臺介面按鈕</button>
    </a>

    <img
      src="assets/logo-blue001.svg"
      style="position: relative; left: 50%; transform: translateX(-50%)"
      width="20%"
    />
    <a href="sigin.html" style="float: right">
      <button type="button" class="btn btn-primary">登入</button>
    </a>
    <a href="register.html" style="float: right">
      <button type="button" class="btn btn-primary">註冊</button>
    </a>

    <img src="assets/banner/baner1.jpg" />
    <div class="shop">
      <a class="shopbut">
        <!-- shop1 -->
        <!-- shop1 name-->
        <h5 id="shop1"></h5>
        <!-- shop2 pic-->
        <div class="shopimg">
          <img id="pic1" />
        </div>
        <button type="button" class="btn btn-primary">加入購物車</button>
        <!-- shop1 price-->
        <h5 id="price1"></h5>
      </a>
      <a class="shopbut"
        ><!-- shop2 -->
        <!-- shop2 name-->
        <h5 id="shop2"></h5>
        <!-- shop2 pic-->
        <div class="shopimg">
          <img id="pic2" />
        </div>
        <button type="button" class="btn btn-primary">加入購物車</button>
        <!-- shop2 price-->
        <h5 id="price2"></h5>
      </a>
      <a class="shopbut"
        ><!-- shop3 -->
        <!-- shop3 name-->
        <h5 id="shop3"></h5>
        <!-- shop3 pic-->
        <div class="shopimg">
          <img id="pic3" />
        </div>
        <button type="button" class="btn btn-primary">加入購物車</button>
        <!-- shop3 price-->
        <h5 id="price3"></h5>
      </a>
    </div>

    <script>
      if(localStorage.getItem("isLoggedIn")=="true" && localStorage.getItem("isAdmin") == "true")
      {
        console.log("aaaa")
        document.getElementById("hiddenbut").style.display = "block";
      }

      if(localStorage.getItem("isLoggedIn")=="true" )
      {
        console.log("已登入")
      }
      else{
        console.log("尚未登入")
      }
      axios
        .get("http://localhost:3000/product")
        .then((res) => {
          const a = res.data;
          shop1 = res.data[2];
          shop2 = res.data[3];
          shop3 = res.data[4];

          const name1 = document.getElementById("shop1");
          const pic1 = document.getElementById("pic1");
          const price1 = document.getElementById("price1");
          name1.textContent = shop1.name;
          pic1.src = shop1.picture;
          price1.textContent = shop1.price;

          const name2 = document.getElementById("shop2");
          const pic2 = document.getElementById("pic2");
          const price2 = document.getElementById("price2");
          name2.textContent = shop2.name;
          pic2.src = shop2.picture;
          price2.textContent = shop2.price;

          const name3 = document.getElementById("shop3");
          const pic3 = document.getElementById("pic3");
          const price3 = document.getElementById("price3");
          name3.textContent = shop3.name;
          pic3.src = shop3.picture;
          price3.textContent = shop3.price;
        })
        .catch((err) => {
          console.log("API 出錯拉!", err);
        });
    </script>
  </body>
</html>
